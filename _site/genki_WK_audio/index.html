<!DOCTYPE html>
<html>
	<head>

	   <title>player</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<!-- link to main stylesheet -->

<link rel="stylesheet" href="/assets/main.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">


	</head>
	<body>
        <nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top border-top border-bottom">
	<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expaned="false" aria-label="Toggle navigation">
		<span class="navbar-toggler-icon"></span>
	</button>
	<div id="navbarNavDropdown" class="navbar-collapse collapse">
		<ul class="navbar-nav">
		  
			<li class="nav-item">
				<a class="nav-link" href="\" >Home</a>
			</li>
		  
			<li class="nav-item">
				<a class="nav-link" href="\about" >About</a>
			</li>
		  
			<li class="nav-item">
				<a class="nav-link" href="\cv" >CV</a>
			</li>
		  
			<li class="nav-item">
				<a class="nav-link" href="\genki_WK_audio" >Genki Workbook Audio</a>
			</li>
		  
		</ul>
	</div>
</nav>

		<div class="container pt-5 mt-5">
    		<h1>Player</h1>

<style>

    .list-group{
        max-height: 300px;
        overflow:scroll;
        -webkit-overflow-scrolling: touch;
    }
</style>


<script type="text/javascript" src="//code.jquery.com/jquery-1.9.1.js"></script>

<script type="text/javascript">//<![CDATA[
    $(function(){
    

    
    document.getElementById("nextAudio").onclick = function() {
        forward();
    }
    document.getElementById("backAudio").onclick = function() {
        backward();
    }

    $(document).ready(function(){
            $(".song").first(0).addClass("active");

            var startUrl = $(".song").first(0).attr('source');
            console.log(startUrl);
            $("#mp3_src").attr("src", startUrl);
            var audio = $("audio-player");  
            $('audio').get(0).load();
            updateCurrentPlay();

        $('[source]').on('click', function(){
            change( $(this).attr('source')  );
            $(this).addClass("active");
            updateCurrentPlay();
            //var currentPlay = $("#currentPlay");
            //currentPlay.text($(this).text());
            //console.log(currentPlay.text());
            //console.log($(this).text());
        });
        

                
    });    

    function change(sourceUrl) {
            var audio = $("audio-player");    

            $("#mp3_src").attr("src", sourceUrl);
            $(".song").removeClass("active");
            /****************/
            $('audio').get(0).pause();
            $('audio').get(0).load();//suspends and restores all audio element
            $('audio').get(0).play();
    }
    
        
    var updateCurrentPlay = function(){
        var currentPlay = $("#currentPlay");
        var current = $(".active").text();
        console.log("current:" + current);
        currentPlay.text(current);
    }
        
    var forward = function(){
        var current = $(".active").next();
        var currentText = current.text();
        var currentUrl;
        if(currentText === ""){
            //current = $(".song").first(0).text();
            currentUrl = $(".song").first(0).attr('source');
            current =$(".song").first(0);
        }else{
            currentUrl = $(".active").next().attr('source');
        }
        //var sourceUrl = current.text();
        console.log(currentUrl);
        change(currentUrl);
        current.addClass('active');
        updateCurrentPlay();
        $("audio-player").on('ended',function(){
              alert('Video has ended!');
            });

   
    }
    var backward = function(){

        var current = $(".active").prev();
        var currentText = current.text();
        var currentUrl;
        //var sourceUrl = current.text();
        if(currentText ===""){
            //current = $(".song").last(0).text();
            currentUrl = $(".song").last(0).attr('source');
            current =$(".song").last(0);
            
        }else{
            currentUrl = $(".active").prev().attr('source');
        }
        console.log(currentUrl);
        change(currentUrl);
        current.addClass('active');
        updateCurrentPlay();
        $("audio-player").on('ended',function(){
              alert('Video has ended!');
            });

    }

    
    
 
        
        
    });//]]> 
</script>

<div class="container border px-0 border-warning bg-dark" id="audiowrap">
    <div class="row mx-0" id="audio0">
        <audio class="m-0 col-sm-12 border p-0" preload id="audio-player" controls="controls">
            <source id="mp3_src"  type="audio/mp3">
            Your browser does not support HTML5 Audio!
        </audio>
    </div>
    <div class="row border border-warning mx-0">
        <button type="button" name="button" class="btn btn-dark col" id="backAudio">
            <i class="fas fa-fast-backward" style="color:white"></i>
        </button>
        <a class="col-8 text-center text-white" id="currentPlay">Now playing.......</a>
        <button type="button" name="button" class="btn btn-dark col" id="nextAudio">
            <i class="fas fa-fast-forward" style="color:white"></i>
        </button>

    </div>

    <div class="panel panel-primary" id="result_panel">
        <div class="panel-body">
            <div class="list-group">
                
                    <button type="button" source="audio\W13-A.mp3" class="song list-group-item list-group-item-action py-1">W13-A.mp3</button>
                
                    <button type="button" source="audio\W13-B.mp3" class="song list-group-item list-group-item-action py-1">W13-B.mp3</button>
                
                    <button type="button" source="audio\W13-C.mp3" class="song list-group-item list-group-item-action py-1">W13-C.mp3</button>
                
                    <button type="button" source="audio\W14-A.mp3" class="song list-group-item list-group-item-action py-1">W14-A.mp3</button>
                
                    <button type="button" source="audio\W14-B.mp3" class="song list-group-item list-group-item-action py-1">W14-B.mp3</button>
                
                    <button type="button" source="audio\W14-C.mp3" class="song list-group-item list-group-item-action py-1">W14-C.mp3</button>
                
                    <button type="button" source="audio\W15-A.mp3" class="song list-group-item list-group-item-action py-1">W15-A.mp3</button>
                
                    <button type="button" source="audio\W15-B.mp3" class="song list-group-item list-group-item-action py-1">W15-B.mp3</button>
                
                    <button type="button" source="audio\W15-C.mp3" class="song list-group-item list-group-item-action py-1">W15-C.mp3</button>
                
                    <button type="button" source="audio\W16-A.mp3" class="song list-group-item list-group-item-action py-1">W16-A.mp3</button>
                
                    <button type="button" source="audio\W16-B.mp3" class="song list-group-item list-group-item-action py-1">W16-B.mp3</button>
                
                    <button type="button" source="audio\W16-C.mp3" class="song list-group-item list-group-item-action py-1">W16-C.mp3</button>
                
                    <button type="button" source="audio\W17-A.mp3" class="song list-group-item list-group-item-action py-1">W17-A.mp3</button>
                
                    <button type="button" source="audio\W17-B.mp3" class="song list-group-item list-group-item-action py-1">W17-B.mp3</button>
                
                    <button type="button" source="audio\W17-C.mp3" class="song list-group-item list-group-item-action py-1">W17-C.mp3</button>
                
                    <button type="button" source="audio\W18-A.mp3" class="song list-group-item list-group-item-action py-1">W18-A.mp3</button>
                
                    <button type="button" source="audio\W18-B.mp3" class="song list-group-item list-group-item-action py-1">W18-B.mp3</button>
                
                    <button type="button" source="audio\W18-C.mp3" class="song list-group-item list-group-item-action py-1">W18-C.mp3</button>
                
                    <button type="button" source="audio\W19-A.mp3" class="song list-group-item list-group-item-action py-1">W19-A.mp3</button>
                
                    <button type="button" source="audio\W19-B.mp3" class="song list-group-item list-group-item-action py-1">W19-B.mp3</button>
                
                    <button type="button" source="audio\W19-C.mp3" class="song list-group-item list-group-item-action py-1">W19-C.mp3</button>
                
                    <button type="button" source="audio\W20-A.mp3" class="song list-group-item list-group-item-action py-1">W20-A.mp3</button>
                
                    <button type="button" source="audio\W20-B.mp3" class="song list-group-item list-group-item-action py-1">W20-B.mp3</button>
                
                    <button type="button" source="audio\W20-C.mp3" class="song list-group-item list-group-item-action py-1">W20-C.mp3</button>
                
                    <button type="button" source="audio\W21-A.mp3" class="song list-group-item list-group-item-action py-1">W21-A.mp3</button>
                
                    <button type="button" source="audio\W21-B.mp3" class="song list-group-item list-group-item-action py-1">W21-B.mp3</button>
                
                    <button type="button" source="audio\W21-C.mp3" class="song list-group-item list-group-item-action py-1">W21-C.mp3</button>
                
                    <button type="button" source="audio\W22-A.mp3" class="song list-group-item list-group-item-action py-1">W22-A.mp3</button>
                
                    <button type="button" source="audio\W22-B.mp3" class="song list-group-item list-group-item-action py-1">W22-B.mp3</button>
                
                    <button type="button" source="audio\W22-C.mp3" class="song list-group-item list-group-item-action py-1">W22-C.mp3</button>
                
                    <button type="button" source="audio\W23-A.mp3" class="song list-group-item list-group-item-action py-1">W23-A.mp3</button>
                
                    <button type="button" source="audio\W23-B.mp3" class="song list-group-item list-group-item-action py-1">W23-B.mp3</button>
                
                    <button type="button" source="audio\W23-C.mp3" class="song list-group-item list-group-item-action py-1">W23-C.mp3</button>
                
            </div>
        </div>
    </div>


</div>

		</div><!-- /.container -->

        <footer class="container mt-5 py-2">
    <div class="mx-auto">

        <!-- Github -->
        <a class="fa-stack fa-lg " href="https://github.com/LeewoodChan">
            <i class="fa fa-circle fa-stack-2x" style="color: black"></i>
            <i class="fa fa-github fa-stack-1x fa-inverse"></i>
        </a>
        <!--Linkedin -->
        <a class="fa-stack fa-lg" href="https://www.linkedin.com/in/leewood-chan-172596109/">
            <i class="fa fa-circle fa-stack-2x" style="color: black"></i>
            <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
        </a>
        <!-- Google +-->
        <a class="fa-stack fa-lg" href="mailto:leewoodchan@gmail.com">
            <i class="fa fa-circle fa-stack-2x" style="color: black"></i>
            <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
        </a>
    </div>

    <div class="text-center border-top py-2 mt-2 border-dark">
        Powered by Jekyll
    </div>

</footer>
        <script src="/assets/vendor/jquery.min.js"></script>
        <script src="/assets/vendor/popper.min.js"></script>
        <script src="/assets/vendor/bootstrap.min.js"></script>
	</body>
</html>
